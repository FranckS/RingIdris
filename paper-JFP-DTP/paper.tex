% paper.tex

\NeedsTeXFormat{LaTeX2e}

\documentclass{jfp1}

\usepackage{float}

%%% Macros for the guide only %%%
\providecommand\AMSLaTeX{AMS\,\LaTeX}
\newcommand\eg{\emph{e.g.}\ }
\newcommand\etc{\emph{etc.}}
\newcommand\bcmdtab{\noindent\bgroup\tabcolsep=0pt%
  \begin{tabular}{@{}p{10pc}@{}p{20pc}@{}}}
\newcommand\ecmdtab{\end{tabular}\egroup}
\newcommand\rch[1]{$\longrightarrow\rlap{$#1$}$\hspace{1em}}
\newcommand\lra{\ensuremath{\quad\longrightarrow\quad}}

\title[Automatically proving equivalence by type-safe reflection]
      {Automatically proving equivalence by type-safe reflection}

 \author[Franck Slama and Edwin Brady]
        {FRANCK SLAMA and EDWIN BRADY\\
         University of St Andrews, United Kingdom\\
         \email{fs39@st-andrews.ac.uk, ecb10@st-andrews.ac.uk}}

\jdate{December 2015}
\pubyear{2016}
\pagerange{\pageref{firstpage}--\pageref{lastpage}}
\doi{S0956796801004857}

\newtheorem{lemma}{Lemma}[section]

\begin{document}

\label{firstpage}

\maketitle

\begin{abstract}
% The abstract should be at most 300 words for the Journal of Functional Programming
Idris is a general purpose purely functional programming language with dependent types, aiming to bring type-based program verification techniques to functional programmers. One common difficulty with programming with dependent types is that proof obligations arise naturally once programs become even moderately sized. For example, implementing an adder for binary numbers indexed over their natural number equivalents will naturally lead to proof obligations for equalities of expressions over natural numbers. 
As far as possible, we would like to solve such proof obligations automatically. In this paper, we show one way to automate such proofs by reflection. We will show how representing Idris expressions in a reflected form, indexed by the original Idris expression, leads to straightforward construction and manipulation of proofs.
With this type-safe reflection technique, the resulting expressions are guaranteed to be faithful representations of the corresponding inputs and any generated proof is guaranteed to be a proof of the required property. 
We will first present the technique on a small example, where we aim to automatically prove equalities with universally quantified lists and the associative concatenation operation, and later show how this idea is generalised to various kind of properties (or axioms) that might be available (for example : commutativity, distributivity, existence of neutral elements...), leading to a hierarchy of reflexive tactics for Monoids, Commutative Monoids, Groups, Commutative Groups, Rings, and so on, written in Idris, for proving different kind of equivalence. We will also show how each tactic reuses the other ones from the simplest structures, thus avoiding as much as possible the duplication of code.
\end{abstract}

%\tableofcontents

\input{./content/introduction.tex}



\begin{thebibliography}{}
 \bibitem[\protect\citename{Augustsson and Johnsson, }1987]{AJ187}
   Augustsson,~L. and Johnsson,~T. (1987) LML users' manual. PMG
   Report, Department of Computer Science, Chalmers University of
   Technology, Goteborg, Sweden.
 \bibitem[\protect\citename{Butcher, }1981]{Butcher}
   Butcher,~J. (1981) Copy-editing: the Cambridge handbook.
   Cambridge University Press.
 \bibitem[\protect\citename{Chicago, }1982]{Chicago}
   The Chicago manual of style. University of Chicago Press.
 \bibitem[\protect\citename{Conklin, }1987]{JC87}
   Conklin,~J. (1987) Hypertext: an introduction and survey.
   \emph{IEEE Computer}, 20~(9): pp.~17--41.
 \bibitem[\protect\citename{Dijkstra, }1976]{EWD76}
   Dijkstra,~E.~W. (1976) \emph{A Discipline of Programming}.
   Prentice-Hall.
 \bibitem[\protect\citename{Knuth, }1984]{DEK84}
   Knuth,~D.~E. (1984) Literate programming. \emph{BCS Comput. J.}
   27~(2): 97--111 (May).
 \bibitem[\protect\citename{Lamport, }1986]{LaTeX}
   Lamport,~L. (1986) \LaTeX: a document preparation system
   (2nd edition). Addison-Wesley, New York.
 \bibitem[\protect\citename{Reynolds, }1969]{JCR69}
   Reynolds,~J.~C. (1969) Transformation systems and the
   algebraic structure of atomic formulas. In B. Meltzer and
   D. Michie (editors), \emph{Machine Intelligence 5}, pp.~135--151.
   Edinburgh University Press.
 \bibitem[\protect\citename{Toyn \emph{et al.}, }1987]{TDR87}
   Toyn,~I., Dix,~A. and Runciman,~C. (1987) Performance
   polymorphism. In \emph{Functional Programming Languages and
   Computer Architecture, Lecture Notes in Computer Science, 274},
   pp.~325--346. Springer-Verlag.
\end{thebibliography}

\label{lastpage}

\end{document}

% end of JFP2egui.tex
