% paper.tex

\NeedsTeXFormat{LaTeX2e}

\documentclass{jfp1}

\usepackage{float}

%%% Macros for the guide only %%%
\providecommand\AMSLaTeX{AMS\,\LaTeX}
\newcommand\eg{\emph{e.g.}\ }
\newcommand\etc{\emph{etc.}}
\newcommand\bcmdtab{\noindent\bgroup\tabcolsep=0pt%
  \begin{tabular}{@{}p{10pc}@{}p{20pc}@{}}}
\newcommand\ecmdtab{\end{tabular}\egroup}
\newcommand\rch[1]{$\longrightarrow\rlap{$#1$}$\hspace{1em}}
\newcommand\lra{\ensuremath{\quad\longrightarrow\quad}}

\title[Automatically proving equivalence by type-safe reflection]
      {Automatically proving equivalence by type-safe reflection}

 \author[Franck Slama and Edwin Brady]
        {FRANCK SLAMA and EDWIN BRADY\\
         University of St Andrews, United Kingdom\\
         \email{fs39@st-andrews.ac.uk, ecb10@st-andrews.ac.uk}}

\jdate{December 2015}
\pubyear{2016}
\pagerange{\pageref{firstpage}--\pageref{lastpage}}
\doi{S0956796801004857}

\newtheorem{lemma}{Lemma}[section]

\begin{document}

\label{firstpage}

\maketitle

\begin{abstract}
% The abstract should be at most 300 words for the Journal of Functional Programming
Idris is a general purpose purely functional programming language with dependent types, aiming to bring type-based program verification techniques to functional programmers. One common difficulty with programming with dependent types is that proof obligations arise naturally once programs become even moderately sized. For example, implementing an adder for binary numbers indexed over their natural number equivalents will naturally lead to proof obligations for equalities of expressions over natural numbers. 
As far as possible, we would like to solve such proof obligations automatically. In this paper, we show one way to automate such proofs by reflection. We will show how representing Idris expressions in a reflected form, indexed by the original Idris expression, leads to straightforward construction and manipulation of proofs.
With this type-safe reflection technique, the resulting expressions are guaranteed to be faithful representations of the corresponding inputs and any generated proof is guaranteed to be a proof of the required property. 
We will first present the technique on a small example, where we aim to automatically prove equalities with universally quantified lists and the associative concatenation operation, and later show how this idea is generalised to various kind of properties (or axioms) that might be available (for example : commutativity, distributivity, existence of neutral elements...), leading to a hierarchy of reflexive tactics for Monoids, Commutative Monoids, Groups, Commutative Groups, Rings, and so on, written in Idris, for proving different kind of equivalence. We will also show how each tactic reuses the other ones from the simplest structures, thus avoiding as much as possible the duplication of code.
\end{abstract}

%\tableofcontents

\input{./content/introduction.tex}


\input{./content/basicIdeas.tex}


\input{./content/generalProblem.tex}


\input{./content/detailsNormalisation.tex}


\input{./content/discussion.tex}


\begin{thebibliography}{}
 \bibitem[\protect\citename{B. Gregoire and A. Mahboubi}2005]{Coq2005}
   Gregoire,~B. and Mahboubi,~A. (2005) Proving equalities in a commutative ring done right in Coq, TPHOLs 2005, Oxford, UK, August 22-25, 2005, Proceedings


 \bibitem[\protect\citename{W.A Howard}1980]{How80}
   Howard W.A. The formulae-as-types notion of construction. In J. R. Seldin and J. P. Hindley, editors, To H. B. Curry: Essays on Combinaory Logic, Lambda Calculus, and Formalism. Academic Press, 1980.


\end{thebibliography}

\label{lastpage}

\end{document}

% end of JFP2egui.tex
